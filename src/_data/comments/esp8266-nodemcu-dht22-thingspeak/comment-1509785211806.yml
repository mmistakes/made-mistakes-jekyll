_id: 794d6025-6798-46ef-885e-241a1fb0ab4e
_parent: /projects/esp8266-nodemcu-dht22-thingspeak/
message: "Hi Alan\n\nGlad you could use the code! Nice catch on the bug, weird that everybody uses a similar code. Anyway, I updated the code and tested the DHT sensor readings using my freezer and it works now on the integer version. It is not the prettiest code, but it works (replaced the original line 56-57 with these 4 lines):\r\n```lua\r\n-- Prevent \"0.-2 deg C\" or \"-2.-6\"\r\ntemperature = temp..\".\"..(math.abs(temp_decimial)/100)\r\nhumidity = humi..\".\"..(math.abs(humi_decimial)/100)\r\n-- If temp is zero and temp_decimal is negative, then add \"-\" to the temperature string\r\nif(temp == 0 and temp_decimial<0) then\r\n    temperature = \"-\"..temperature\r\nend\r\n```\n\nThe code in the post is fully updated.\n\nExample output:\r\n```terminal\r\nTemperature: 1.1 deg C\r\nHumidity: 10.1%\n\nTemperature: 0.8 deg C\r\nHumidity: 10.3%\n\nTemperature: 0.5 deg C\r\nHumidity: 10.6%\n\nTemperature: 0.2 deg C\r\nHumidity: 10.8%\n\nTemperature: -0.1 deg C\r\nHumidity: 11.0%\n\nTemperature: -0.4 deg C\r\nHumidity: 11.1%\n\nTemperature: -0.7 deg C\r\nHumidity: 11.4%\n\nTemperature: -0.9 deg C\r\nHumidity: 11.6%\n\nTemperature: -1.2 deg C\r\nHumidity: 11.7%\r\n```\n\n/Poul"
name: Poul Serek
email: e6be5d980c3d3bf678630477e6452916
url: ''
replying_to: 'e0e5b73a-770f-4fe1-b9a0-14865ff931c5'
hidden: ''
date: '2016-04-18T20:27:48.000Z'
